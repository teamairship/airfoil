/**
 * Strip beginning and end quotes from a string
 * @param str
 */
export const stripQuotes = (str = '') => {
  if (!str) return '';

  return str.replace(/^"/g, '').replace(/"$/g, '');
};

/**
 * Un-escape html-encoded characters.
 *
 * ```
 * expect(decodeHtmlEntities('&#34;&lt;some &amp; text&gt;&#34;')).toEqual('"<some & text>"');
 * ```
 */
export const decodeHtmlEntities = (str = ''): string => {
  if (!str || typeof str !== 'string') return '';
  try {
    let newStr = str;
    const keys = Object.keys(charMap);
    for (let i = 0; i < keys.length; i++) {
      const find = new RegExp(keys[i], 'g');
      const replaceWith = charMap[keys[i]];
      newStr = newStr.replace(find, replaceWith);
    }
    return newStr;
  } catch (err) {
    return '';
  }
};

// sources:
// - https://www.whatsmyip.org/html-characters/
// - https://www.w3.org/MarkUp/html-spec/html-spec_13.html
const charMap = {
  '&#34;': '"',
  '&#38;': '&',
  '&#39;': "'",
  '&#47;': '/',
  '&#60;': '<',
  '&#62;': '>',
  '&#130;': '‚',
  '&#132;': '„',
  '&#134;': '†',
  '&#135;': '‡',
  '&#137;': '‰',
  '&#139;': '‹',
  '&#145;': '‘',
  '&#146;': '’',
  '&#147;': '“',
  '&#148;': '”',
  '&#153;': '™',
  '&#155;': '›',
  '&#160;': 'n',
  '&#161;': '¡',
  '&#162;': '¢',
  '&#163;': '£',
  '&#164;': '¤',
  '&#165;': '¥',
  '&#166;': '¦',
  '&#167;': '§',
  '&#168;': '¨',
  '&#169;': '©',
  '&#170;': 'ª',
  '&#171;': '«',
  '&#172;': '¬',
  '&#173;': '•',
  '&#174;': '®',
  '&#175;': '¯',
  '&#176;': '°',
  '&#177;': '±',
  '&#178;': '²',
  '&#179;': '³',
  '&#180;': '´',
  '&#181;': 'µ',
  '&#182;': '¶',
  '&#183;': '·',
  '&#184;': '¸',
  '&#185;': '¹',
  '&#186;': 'º',
  '&#187;': '»',
  '&#188;': '¼',
  '&#189;': '½',
  '&#190;': '¾',
  '&#191;': '¿',
  '&#192;': 'À',
  '&#193;': 'Á',
  '&#194;': 'Â',
  '&#195;': 'Ã',
  '&#196;': 'Ä',
  '&#197;': 'Å',
  '&#198;': 'Æ',
  '&#199;': 'Ç',
  '&#200;': 'È',
  '&#201;': 'É',
  '&#202;': 'Ê',
  '&#203;': 'Ë',
  '&#204;': 'Ì',
  '&#205;': 'Í',
  '&#206;': 'Î',
  '&#207;': 'Ï',
  '&#208;': 'Ð',
  '&#209;': 'Ñ',
  '&#210;': 'Ò',
  '&#211;': 'Ó',
  '&#212;': 'Ô',
  '&#213;': 'Õ',
  '&#214;': 'Ö',
  '&#215;': '×',
  '&#216;': 'Ø',
  '&#217;': 'Ù',
  '&#218;': 'Ú',
  '&#219;': 'Û',
  '&#220;': 'Ü',
  '&#221;': 'Ý',
  '&#222;': 'Þ',
  '&#223;': 'ß',
  '&#224;': 'à',
  '&#225;': 'á',
  '&#226;': 'â',
  '&#227;': 'ã',
  '&#228;': 'ä',
  '&#229;': 'å',
  '&#230;': 'æ',
  '&#231;': 'ç',
  '&#232;': 'è',
  '&#233;': 'é',
  '&#234;': 'ê',
  '&#235;': 'ë',
  '&#236;': 'ì',
  '&#237;': 'í',
  '&#238;': 'î',
  '&#239;': 'ï',
  '&#240;': 'ð',
  '&#241;': 'ñ',
  '&#242;': 'ò',
  '&#243;': 'ó',
  '&#244;': 'ô',
  '&#245;': 'õ',
  '&#246;': 'ö',
  '&#247;': '÷',
  '&#248;': 'ø',
  '&#249;': 'ù',
  '&#250;': 'ú',
  '&#251;': 'û',
  '&#252;': 'ü',
  '&#253;': 'ý',
  '&#254;': 'þ',
  '&#255;': 'ÿ',
  '&#402;': 'ƒ',
  '&#913;': 'Α',
  '&#914;': 'Β',
  '&#915;': 'Γ',
  '&#916;': 'Δ',
  '&#917;': 'Ε',
  '&#918;': 'Ζ',
  '&#919;': 'Η',
  '&#920;': 'Θ',
  '&#921;': 'Ι',
  '&#922;': 'Κ',
  '&#923;': 'Λ',
  '&#924;': 'Μ',
  '&#925;': 'Ν',
  '&#926;': 'Ξ',
  '&#927;': 'Ο',
  '&#928;': 'Π',
  '&#929;': 'Ρ',
  '&#931;': 'Σ',
  '&#932;': 'Τ',
  '&#933;': 'Υ',
  '&#934;': 'Φ',
  '&#935;': 'Χ',
  '&#936;': 'Ψ',
  '&#937;': 'Ω',
  '&#945;': 'α',
  '&#946;': 'β',
  '&#947;': 'γ',
  '&#948;': 'δ',
  '&#949;': 'ε',
  '&#950;': 'ζ',
  '&#951;': 'η',
  '&#952;': 'θ',
  '&#953;': 'ι',
  '&#954;': 'κ',
  '&#955;': 'λ',
  '&#956;': 'μ',
  '&#957;': 'ν',
  '&#958;': 'ξ',
  '&#959;': 'ο',
  '&#960;': 'π',
  '&#961;': 'ρ',
  '&#962;': 'ς',
  '&#963;': 'σ',
  '&#964;': 'τ',
  '&#965;': 'υ',
  '&#966;': 'φ',
  '&#967;': 'χ',
  '&#968;': 'ψ',
  '&#969;': 'ω',
  '&#977;': 'ϑ',
  '&#978;': 'ϒ',
  '&#982;': 'ϖ',
  '&#8226;': '•',
  '&#8230;': '…',
  '&#8242;': '′',
  '&#8243;': '″',
  '&#8254;': '‾',
  '&#8465;': 'ℑ',
  '&#8472;': '℘',
  '&#8476;': 'ℜ',
  '&#8501;': 'ℵ',
  '&#8592;': '←',
  '&#8593;': '↑',
  '&#8594;': '→',
  '&#8595;': '↓',
  '&#8596;': '↔',
  '&#8629;': '↵',
  '&#8656;': '⇐',
  '&#8657;': '⇑',
  '&#8658;': '⇒',
  '&#8659;': '⇓',
  '&#8660;': '⇔',
  '&#8704;': '∀',
  '&#8706;': '∂',
  '&#8707;': '∃',
  '&#8709;': '∅',
  '&#8711;': '∇',
  '&#8712;': '∈',
  '&#8713;': '∉',
  '&#8715;': '∋',
  '&#8719;': '∏',
  '&#8721;': '∑',
  '&#8722;': '−',
  '&#8727;': '∗',
  '&#8730;': '√',
  '&#8733;': '∝',
  '&#8734;': '∞',
  '&#8736;': '∠',
  '&#8743;': '∧',
  '&#8744;': '∨',
  '&#8745;': '∩',
  '&#8746;': '∪',
  '&#8747;': '∫',
  '&#8756;': '∴',
  '&#8764;': '∼',
  '&#8773;': '≅',
  '&#8776;': '≈',
  '&#8800;': '≠',
  '&#8801;': '≡',
  '&#8804;': '≤',
  '&#8805;': '≥',
  '&#8834;': '⊂',
  '&#8835;': '⊃',
  '&#8836;': '⊄',
  '&#8838;': '⊆',
  '&#8839;': '⊇',
  '&#8853;': '⊕',
  '&#8855;': '⊗',
  '&#8869;': '⊥',
  '&#8901;': '⋅',
  '&#8968;': '⌈',
  '&#8969;': '⌉',
  '&#8970;': '⌊',
  '&#8971;': '⌋',
  '&#9001;': '〈',
  '&#9002;': '〉',
  '&#9674;': '◊',
  '&#9824;': '♠',
  '&#9827;': '♣',
  '&#9829;': '♥',
  '&#9830;': '♦',
  '&quot;': '"',
  '&amp;': '&',
  '&sol;': '/',
  '&lt;': '<',
  '&gt;': '>',
  '&sbquo;': '‚',
  '&bdquo;': '„',
  '&dagger;': '†',
  '&Dagger;': '‡',
  '&permil;': '‰',
  '&lsaquo;': '‹',
  '&lsquo;': '‘',
  '&rsquo;': '’',
  '&ldquo;': '“',
  '&rdquo;': '”',
  '&trade;': '™',
  '&rsaquo;': '›',
  '&nbsp;': ' ',
  '&iexcl;': '¡',
  '&cent;': '¢',
  '&pound;': '£',
  '&curren;': '¤',
  '&yen;': '¥',
  '&brvbar;': '¦',
  '&sect;': '§',
  '&uml;': '¨',
  '&copy;': '©',
  '&ordf;': 'ª',
  '&laquo;': '«',
  '&not;': '¬',
  '&shy;': '•',
  '&reg;': '®',
  '&macr;': '¯',
  '&deg;': '°',
  '&plusmn;': '±',
  '&sup2;': '²',
  '&sup3;': '³',
  '&acute;': '´',
  '&micro;': 'µ',
  '&para;': '¶',
  '&middot;': '·',
  '&cedil;': '¸',
  '&sup1;': '¹',
  '&ordm;': 'º',
  '&raquo;': '»',
  '&frac14;': '¼',
  '&frac12;': '½',
  '&frac34;': '¾',
  '&iquest;': '¿',
  '&Agrave;': 'À',
  '&Aacute;': 'Á',
  '&Acirc;': 'Â',
  '&Atilde;': 'Ã',
  '&Auml;': 'Ä',
  '&Aring;': 'Å',
  '&AElig;': 'Æ',
  '&Ccedil;': 'Ç',
  '&Egrave;': 'È',
  '&Eacute;': 'É',
  '&Ecirc;': 'Ê',
  '&Euml;': 'Ë',
  '&Igrave;': 'Ì',
  '&Iacute;': 'Í',
  '&Icirc;': 'Î',
  '&Iuml;': 'Ï',
  '&ETH;': 'Ð',
  '&Ntilde;': 'Ñ',
  '&Ograve;': 'Ò',
  '&Oacute;': 'Ó',
  '&Ocirc;': 'Ô',
  '&Otilde;': 'Õ',
  '&Ouml;': 'Ö',
  '&times;': '×',
  '&Oslash;': 'Ø',
  '&Ugrave;': 'Ù',
  '&Uacute;': 'Ú',
  '&Ucirc;': 'Û',
  '&Uuml;': 'Ü',
  '&Yacute;': 'Ý',
  '&THORN;': 'Þ',
  '&szlig;': 'ß',
  '&agrave;': 'à',
  '&aacute;': 'á',
  '&acirc;': 'â',
  '&atilde;': 'ã',
  '&auml;': 'ä',
  '&aring;': 'å',
  '&aelig;': 'æ',
  '&ccedil;': 'ç',
  '&egrave;': 'è',
  '&eacute;': 'é',
  '&ecirc;': 'ê',
  '&euml;': 'ë',
  '&igrave;': 'ì',
  '&iacute;': 'í',
  '&icirc;': 'î',
  '&iuml;': 'ï',
  '&eth;': 'ð',
  '&ntilde;': 'ñ',
  '&ograve;': 'ò',
  '&oacute;': 'ó',
  '&ocirc;': 'ô',
  '&otilde;': 'õ',
  '&ouml;': 'ö',
  '&divide;': '÷',
  '&oslash;': 'ø',
  '&ugrave;': 'ù',
  '&uacute;': 'ú',
  '&ucirc;': 'û',
  '&uuml;': 'ü',
  '&yacute;': 'ý',
  '&thorn;': 'þ',
  '&yuml;': 'ÿ',
  '&fnof;': 'ƒ',
  '&Alpha;': 'Α',
  '&Beta;': 'Β',
  '&Gamma;': 'Γ',
  '&Delta;': 'Δ',
  '&Epsilon;': 'Ε',
  '&Zeta;': 'Ζ',
  '&Eta;': 'Η',
  '&Theta;': 'Θ',
  '&Iota;': 'Ι',
  '&Kappa;': 'Κ',
  '&Lambda;': 'Λ',
  '&Mu;': 'Μ',
  '&Nu;': 'Ν',
  '&Xi;': 'Ξ',
  '&Omicron;': 'Ο',
  '&Pi;': 'Π',
  '&Rho;': 'Ρ',
  '&Sigma;': 'Σ',
  '&Tau;': 'Τ',
  '&Upsilon;': 'Υ',
  '&Phi;': 'Φ',
  '&Chi;': 'Χ',
  '&Psi;': 'Ψ',
  '&Omega;': 'Ω',
  '&alpha;': 'α',
  '&beta;': 'β',
  '&gamma;': 'γ',
  '&delta;': 'δ',
  '&epsilon;': 'ε',
  '&zeta;': 'ζ',
  '&eta;': 'η',
  '&theta;': 'θ',
  '&iota;': 'ι',
  '&kappa;': 'κ',
  '&lambda;': 'λ',
  '&mu;': 'μ',
  '&nu;': 'ν',
  '&xi;': 'ξ',
  '&omicron;': 'ο',
  '&pi;': 'π',
  '&rho;': 'ρ',
  '&sigmaf;': 'ς',
  '&sigma;': 'σ',
  '&tau;': 'τ',
  '&upsilon;': 'υ',
  '&phi;': 'φ',
  '&chi;': 'χ',
  '&psi;': 'ψ',
  '&omega;': 'ω',
  '&thetasym;': 'ϑ',
  '&upsih;': 'ϒ',
  '&piv;': 'ϖ',
  '&bull;': '•',
  '&hellip;': '…',
  '&prime;': '′',
  '&Prime;': '″',
  '&oline;': '‾',
  '&image;': 'ℑ',
  '&weierp;': '℘',
  '&real;': 'ℜ',
  '&alefsym;': 'ℵ',
  '&larr;': '←',
  '&uarr;': '↑',
  '&rarr;': '→',
  '&darr;': '↓',
  '&harr;': '↔',
  '&crarr;': '↵',
  '&lArr;': '⇐',
  '&uArr;': '⇑',
  '&rArr;': '⇒',
  '&dArr;': '⇓',
  '&hArr;': '⇔',
  '&forall;': '∀',
  '&part;': '∂',
  '&exist;': '∃',
  '&empty;': '∅',
  '&nabla;': '∇',
  '&isin;': '∈',
  '&notin;': '∉',
  '&ni;': '∋',
  '&prod;': '∏',
  '&sum;': '∑',
  '&minus;': '−',
  '&lowast;': '∗',
  '&radic;': '√',
  '&prop;': '∝',
  '&infin;': '∞',
  '&ang;': '∠',
  '&and;': '∧',
  '&or;': '∨',
  '&cap;': '∩',
  '&cup;': '∪',
  '&int;': '∫',
  '&there4;': '∴',
  '&sim;': '∼',
  '&cong;': '≅',
  '&asymp;': '≈',
  '&ne;': '≠',
  '&equiv;': '≡',
  '&le;': '≤',
  '&ge;': '≥',
  '&sub;': '⊂',
  '&sup;': '⊃',
  '&nsub;': '⊄',
  '&sube;': '⊆',
  '&supe;': '⊇',
  '&oplus;': '⊕',
  '&otimes;': '⊗',
  '&perp;': '⊥',
  '&sdot;': '⋅',
  '&lceil;': '⌈',
  '&rceil;': '⌉',
  '&lfloor;': '⌊',
  '&rfloor;': '⌋',
  '&lang;': '〈',
  '&rang;': '〉',
  '&loz;': '◊',
  '&spades;': '♠',
  '&clubs;': '♣',
  '&hearts;': '♥',
  '&diams;': '♦',
};
